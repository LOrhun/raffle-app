<div>
  <h2>Admin Paneli</h2>

  <div class="admin-section card shadow-sm mb-4">
    <div class="card-body">
      <h3 class="card-title">Nasıl Kullanılır?</h3>
      <p class="card-text">
        Çekiliş uygulamasını yönetmek için bu paneli kullanın. Değişiklikler sekmeler arasında senkronize edilir.
      </p>
      <ul>
        <li><strong>Katılımcıları Yükle:</strong> Bir CSV dosyası seçin. Beklenen sütunlar: <code>ID, Ad, Soyad, MezunYil, Mail, Telefon, Sirket, Pozisyon, KartID</code>. Bir katılımcının eklenebilmesi için yalnızca 'Ad' ve 'Soyad' kesinlikle gereklidir.</li>
        <li><strong>Açılış Sayfası Başlığı:</strong> Açılış sayfasındaki ana başlığın öncesinde veya sonrasında görünecek metni özelleştirin. Değişiklikleri uygulamak için her alan için 'Kaydet'e tıklayın.</li>
        <li><strong>Çekiliş Kontrolleri:</strong> Aşağıdaki butonları kullanarak çekiliş sürecini yönetin.</li>
      </ul>
    </div>
  </div>

  <hr>

  <div class="admin-section card shadow-sm mb-4">
    <div class="card-body">
      <h3 class="card-title">Açılış Sayfası Başlığını Özelleştir</h3>
      <p class="card-text text-muted small">Açılış sayfasındaki ana başlığın öncesinde ve/veya sonrasında görünecek özel metin ayarlayın. Bu değişiklikler kaydedildikten sonra açılış sayfasında hemen görünür olacaktır.</p>
      <div class="mb-3">
        <label for="titlePrefix" class="form-label">Ana Başlıktan Önceki Metin:</label>
        <div class="input-group">
          <input type="text" id="titlePrefix" class="form-control" [(ngModel)]="titlePrefix" placeholder="örn. Hoş Geldiniz">
          <button (click)="saveTitlePrefix()" class="btn btn-outline-primary">Ön Eki Kaydet</button>
        </div>
      </div>
      <div>
        <label for="titleSuffix" class="form-label">Ana Başlıktan Sonraki Metin:</label>
        <div class="input-group">
          <input type="text" id="titleSuffix" class="form-control" [(ngModel)]="titleSuffix" placeholder="örn. Yıllık Çekilişimize!">
          <button (click)="saveTitleSuffix()" class="btn btn-outline-primary">Son Eki Kaydet</button>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <div class="admin-section card shadow-sm mb-4">
    <div class="card-body">
      <h3 class="card-title">Katılımcıları Yükle (CSV Dosyası)</h3>
      <p class="card-text text-muted small">Katılımcı verilerini içeren bir CSV dosyası yükleyin. Dosyanın en az 'Ad' ve 'Soyad' sütunlarını içerdiğinden emin olun. Diğer tanınan sütunlar da içe aktarılacaktır.</p>
      <input type="file" (change)="onFileSelect($event)" accept=".csv" class="form-control">
    </div>
  </div>

  <hr>

  <div class="admin-section card shadow-sm mb-4">
    <div class="card-body">
      <h3 class="card-title">Çekiliş Kontrolleri</h3>
      <p class="card-text text-muted small">Çekiliş akışını kontrol etmek için bu butonları kullanın. Buradaki eylemler, tüm izleyiciler için açılış sayfası görüntüsünü etkileyecektir.</p>
      <div class="d-grid gap-2 d-md-flex justify-content-md-start">
        <button (click)="startRaffle()" title="Katılımcı adı animasyon döngüsünü başlatır." class="btn btn-success me-md-2">Çekiliş Animasyonunu Başlat</button>
        <button (click)="resetRaffle()" title="Tüm katılımcıları, kazananı temizler ve çekiliş durumunu sıfırlar. Dikkatli kullanın!" class="btn btn-danger me-md-2">Tümünü Sıfırla (Katılımcıları ve Durumu Temizle)</button>
        <button (click)="resetRaffleStateOnly()" title="Çekiliş durumunu sıfırlar ve kazananı temizler, ancak katılımcı listesini korur." class="btn btn-warning">Sadece Durumu Sıfırla (Katılımcıları Koru)</button>
      </div>
    </div>
  </div>
</div>
